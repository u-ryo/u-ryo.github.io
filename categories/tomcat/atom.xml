<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><title><![CDATA[u-ryo's blog]]></title><link href="http://u-ryo.github.io//categories/tomcat/atom.xml" rel="self"/><link href="http://u-ryo.github.io//"/><updated>2016-03-16T10:13:51+09:00</updated><id>http://u-ryo.github.io//</id><author><name><![CDATA[u-ryo]]></name></author><generator uri="http://sysgears.com/grain/">Grain</generator><entry><title type="html"><![CDATA[Too many open files]]></title><link href="http://u-ryo.github.io//blog/2015/10/30/too-many-open-files/"/><updated>2016-08-03T15:19:01+09:00</updated><id>/blog/2015/10/30/too-many-open-files/</id><content type="html"><![CDATA[<p>tomcat7が止まっていて、catalina.outを見ると、
<code>Too many open files</code>と言われていました。</p>
<ul>
<li>現状の確認 <code>$ ulimit -a</code></li>
<li>プロセス毎なので、<code>$ cat /proc/プロセス番号/limits</code> or <code>$ cat /proc/\</code>pgrep -f tomcat7`/limits`</li>
<li>現状幾つのfilesをopenしているか、は、<code>$ sudo ls -l /proc/\</code>pgrep -f tomcat7`/fd/|wc -l`</li>
<li>増やすには、/etc/init.d/tomcat7 で<code>ulimit -n 8192</code>等と追記してrestart</li>
<li><code>$ cat /proc/プロセス番号/limits</code>で確認</li>
</ul>
]]></content></entry></feed>