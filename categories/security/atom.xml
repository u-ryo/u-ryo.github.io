<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><title><![CDATA[u-ryo's blog]]></title><link href="http://u-ryo.github.io//categories/security/atom.xml" rel="self"/><link href="http://u-ryo.github.io//"/><updated>2017-08-22T10:04:50+09:00</updated><id>http://u-ryo.github.io//</id><author><name><![CDATA[u-ryo]]></name></author><generator uri="http://sysgears.com/grain/">Grain</generator><entry><title type="html"><![CDATA[Expired Root Cert]]></title><link href="http://u-ryo.github.io//blog/2016/06/06/expired-root-cert/"/><updated>2017-08-22T10:04:50+09:00</updated><id>/blog/2016/06/06/expired-root-cert/</id><content type="html"><![CDATA[<p>Fortigateの認証proxy(且つSSLも検閲できるよう間に独自Certをかます)を有効にしたら、
突然見られなくなったサイトが。
<a href="https://duns-number-jp.dnb.com/search/jpn/login.asp">DUNS Number検索</a>っていうところなんですけど、
なんでだろー、って調べてったら、とんでもないことが判明。</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>$ openssl s_client -connect duns-number-jp.dnb.com:443 -showcerts|awk -v b=0 &#39;{if($2~/CERTIFICATE/){b++};if(b==5){print}}END{print &quot;-----END CERTIFICATE-----&quot;}&#39;|openssl x509 -enddate -noout
</span><span class='line'>depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert High Assurance EV Root CA
</span><span class='line'>verify error:num=20:unable to get local issuer certificate
</span><span class='line'>verify return:0
</span><span class='line'>DONE
</span><span class='line'>notAfter=Sep 30 18:19:47 2015 GMT
</span></code></pre></td></tr></table></div></figure>
<p><img src='/images/duns-number-jp-1-9011c8136c7a90f6623db0b6dda2e91d.png' alt='SSL Report by SSL Labs' >
</p>
<p><img src='/images/duns-number-jp-2-4363952532e15a3cda68ff4aaff1e87a.png' alt='SSL Report by SSL Labs' >
</p>
<p><a href="https://www.ssllabs.com/ssltest/analyze.html?d=duns-number-jp.dnb.com">SSL Report by SSL Labs</a></p>
<p>そんな、わざわざ期限切れのRoot CAなんて配んなくっていいのに...</p>
<p>ただ、そういえば、自分もSSL Cert更新時、
中に含めていた中間証明書をそのまま使い回してverifierにかけたら、
中間証明書が古いって言われて慌てて差し替えたことあります。
自分で作ったcertは期限気にしますが、
間に含めたcertsまではあんまり気にしないんですよね確かに。</p>
<p>気持ちは、わかります。</p>
]]></content></entry><entry><title type="html"><![CDATA[Assessing Outbound Traffic to Uncover Advanced Persistent Threat]]></title><link href="http://u-ryo.github.io//blog/2016/03/17/assessing-outbound-traffic-to-uncover-advanced-persistent-threat/"/><updated>2017-08-22T10:04:50+09:00</updated><id>/blog/2016/03/17/assessing-outbound-traffic-to-uncover-advanced-persistent-threat/</id><content type="html"><![CDATA[<p>きょうび、APT(標的型攻撃)は、外向き通信から解析する必要があるでしょうと。
後で読むために。
<a href="https://www.sans.edu/student-files/projects/JWP-Binde-McRee-OConnor.pdf">Assessing Outbound Traffic to Uncover Advanced Persistent Threat</a></p>
]]></content></entry><entry><title type="html"><![CDATA[Security Check]]></title><link href="http://u-ryo.github.io//blog/2016/02/20/security-check/"/><updated>2017-08-22T10:04:50+09:00</updated><id>/blog/2016/02/20/security-check/</id><content type="html"><![CDATA[<p>NHK Specialの<a href="http://www.nhk.or.jp/docudocu/program/46/2586764/">CYBER SHOCK 狙われる日本の機密情報</a>見てたら、
標的型攻撃による情報流出が怖くなりました。
<a href="http://www.jipdec.or.jp">JIPDEC</a>とか、表面化してないだけで絶対やられてるんじゃないのかな、
とか思うんですが、それをみるために、
gatewayで宛先IPとportをcheckしたらいいんじゃないのかな、
と思いました。
まず自分のマシンでやってみようと思いました。
隗より始めよ、ですね。
iptablesでOUTPUTのACKなtcpのdportとIPをLOGすれば、
と思ったんですけど、
それだったらsnortの方がいいですか。
でもsnortでoutboundな通信のlogってどうやるんでしょう。
また、それでIPあげつらったとしても、
それをどう検証するのか。
blacklistでもないかなぁ、と思ったら、
カペルスキーとかセキュリティ専門会社は独自blacklist持ってるんですね。</p>
<p>...と、この辺まで書いてたら、
Kodingに「週間使用量をexceedしている」とかいわれて止められちゃいました。
書こうとしてた時に勢いを止められるのはつらいです。
書いた文章もURLも消えちゃいましたし、何書こうとしてたか忘れちゃいました。</p>
<p>blacklist、IP addressで検索していたら、
whatismyipaddressの<a href="http://whatismyipaddress.com/blacklist-check">Blacklist Check</a>、
でもこれは、接続元IPがspammerのblacklistに載っているか、
一括して調べるもの。どこかに載ってたら、
過去にspamを送っていたことがある、
何らかのmalwareに感染してた可能性がある、
ということです。</p>
<p><a href="https://www.reddit.com/r/Malware/comments/3u8719/check_your_very_own_ip_for_any_botnet_infections/">check your very own IP for any botnet infections</a>
というのがあって、これも同じようなserviceなんでしょうか。</p>
<p>C&amp;C serverとのcommunicationは、
DNSのTXT recordでやるそうですね。
そんなのってdetect出来るんでしょうかね。出来そうですね。
何かtoolないのかな。</p>
<p><a href="&quot;https://www.facebook.com/sec.testing.study.session">脆弱性診断研究会</a>には、
よさ気な情報が載ってます。
↑に載ってましたが、
<a href="http://vaddy.net/ja/">VAddy</a>というJenkinsに組み込んでCIで脆弱性診断をしてくれる
serviceがあるそうです。free planだとSQL injection、XSSしか見てくれないそうですが、
freeで何度も使えるならいいですね。</p>
<h2>脆弱性検査tools</h2>
<ul>
<li>OWASP ZAP</li>
<li>Vega(Java, included in Kali Linux)</li>
</ul>
<p>Bug hunterとして生計を立てている<a href="http://masatokinugawa.l0.cm/">Kinugawa masatoさんのページ</a>が
とても勉強になります。<a href="http://blog.tokumaru.org/">徳丸先生の日記</a>は言わずもがな。
<a href="https://takagi-hiromitsu.jp/diary/">ヒロミチュ先生のところ</a>は、
最近技術的な話題少ないんですかね。</p>
]]></content></entry></feed>